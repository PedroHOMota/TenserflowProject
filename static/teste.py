import base64
from PIL import Image
import io
#img = "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"
with open("test.jpg","rb") as f:
    img = f.read()
    f.close()

imgD= base64.b64encode(img)
imgD=base64.b64decode(imgD)
print(imgD)
imgN = Image.open(io.BytesIO(imgD))
print(type(imgN))
imgN=imgN.resize((28,28))
imgN.save("foo1.png")
#pyplot.plot(imgD)
#pyplot.show()
print(imgD)
